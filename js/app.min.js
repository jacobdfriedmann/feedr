function setup(){View.init(),Controller.init()}var Model={articles:void 0,categories:void 0,username:void 0,userId:void 0,loggedIn:!1,interest:void 0,bookmarks:[],loadCategories:function(){$.get("http://localhost:3010/categories?userId="+this.userId,function(e){console.log("Loading Categories..."),console.log(e),Model.categories=e,View.renderCategories()})},loadArticles:function(){$.get("/feed?userId="+Model.userId,function(e){Model.articles=e,View.renderArticles()})}},View={loginTemplate:void 0,categoriesTemplate:void 0,mainTemplate:void 0,init:function(){var e=$("#login-template").html(),o=$("#categories-template").html(),n=$("#main-template").html();this.loginTemplate=Handlebars.compile(e),this.categoriesTemplate=Handlebars.compile(o),this.mainTemplate=Handlebars.compile(n)},renderLogin:function(){$("#loginContainer").html(this.loginTemplate(Model)),console.log("Login rendered...")},renderCategories:function(){$("#categories").html(this.categoriesTemplate(Model)),console.log("Categories rendered...")},renderArticles:function(){$("#main").html(this.mainTemplate(Model)),console.log("Articles rendered...")}},Controller={init:function(){View.renderLogin(),$("#loginContainer").on("click","#loginSubmit",this.handleLogin),$("#categories").on("click",".label",this.handleCategory),$("#main").on("click","article",this.handleBookmarks)},handleLogin:function(e){var o=$("#username").val();$.post("/login",{username:o},function(e){Model.loggedIn=!0,Model.userId=e.userId,Model.username=o,Model.loadCategories(),Model.loadArticles(),View.renderLogin()})},handleCategory:function(){var e=$(this).text();$(this).hasClass("label-default")?$.post("/interests/"+e+"?userId="+Model.userId,function(e){Model.loadCategories(),Model.loadArticles()}):$.ajax({type:"DELETE",url:"/interests/"+e+"?userId="+Model.userId,success:function(e){Model.loadCategories(),Model.loadArticles()}})},handleBookmarks:function(){var e=$(this).index(),o=Model.articles[e],n=o.id,i=o.bookmarked;i?$.ajax({type:"DELETE",url:"/bookmarks/"+n+"?userId="+Model.userId,success:function(e){Model.loadArticles()}}):$.post("/bookmarks/"+n+"?userId="+Model.userId,function(e){Model.loadArticles()})}};$(document).ready(setup);